<!DOCTYPE html>
<html lang="de" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Building the Linux kernel for CalyxOS</title>
  <link rel="shortcut icon" type="image/png" href="/calyxos.org/assets/images/favicon.png">
  
  <meta name="description" content="Building the Linux kernel for CalyxOS" />
  <link rel="stylesheet" href="/calyxos.org/assets/css/main.css">
  <link rel="alternate" type="application/rss+xml" title="CalyxOS" href="/calyxos.org/feed.xml">
</head>

  <body>
    <header>
  <div class="wrapper">
    <div class="logoMark emptyLogo"></div>
    <h1 class="logo"><a class="navbar-brand" href="/calyxos.org/de/">CalyxOS</a></h1>
    <nav class="navbar navbar-expand-sm">
      <input type="checkbox" class="toggle" id="navbar-visible"></input>
      <ul class="navbar-nav">
        <li class="nav-level-0 nav-item"><a class="nav-level-0 nav-link " href="/calyxos.org/de/features/">Features</a></li>
<li class="nav-level-0 nav-item"><a class="nav-level-0 nav-link " href="/calyxos.org/de/community/">Community</a></li>
<li class="nav-level-0 nav-item"><a class="nav-level-0 nav-link active" href="/calyxos.org/de/docs/">Documentation</a></li>
<li class="nav-level-0 nav-item"><a class="nav-level-0 nav-link " href="/calyxos.org/de/news/">News</a></li>
        <li><a role="button" class="btn primaryBtn" href="/calyxos.org/de/get">Get CalyxOS</a></li>
      </ul>
      <label class="toggle navbar-toggle" for="navbar-visible"></label>
    </nav>
  </div>
</header>

    <main>
      <section class="secondaryIntro">
        <div class="wrapper sidebar-spacing">
          <h1><span class="highlighter">Building the Linux kernel for CalyxOS</span></h1>


        </div>
      </section>
      <div class="wrapper sidebar">
        <div class="navside">
  <ul class="">


<li class="nav-level-1 nav-item"><a class="nav-level-1 nav-link " href="/calyxos.org/de/docs/about/">About</a></li>
<li class="nav-level-1 nav-item"><a class="nav-level-1 nav-link " href="/calyxos.org/de/docs/guide/">User Guide</a></li>
<li class="nav-level-1 nav-item"><a class="nav-level-1 nav-link " href="/calyxos.org/de/docs/tech/">Tech</a></li>
<li class="nav-level-1 nav-item"><a class="nav-level-1 nav-link " href="/calyxos.org/de/docs/development/">Development</a></li><li class="nav-level-2 nav-item"><a class="nav-level-2 nav-link " href="/calyxos.org/de/docs/development/contribute/">Contribute</a></li>
<li class="nav-level-2 nav-item"><a class="nav-level-2 nav-link " href="/calyxos.org/de/docs/development/gerrit/">Gerrit</a></li>
<li class="nav-level-2 nav-item"><a class="nav-level-2 nav-link " href="/calyxos.org/de/docs/development/build/">Build</a></li><li class="nav-level-3 nav-item"><a class="nav-level-3 nav-link " href="/calyxos.org/de/docs/development/build/app-fdroid/">Build F-Droid</a></li>
<li class="nav-level-3 nav-item"><a class="nav-level-3 nav-link " href="/calyxos.org/de/docs/development/build/app-microg/">Build microG</a></li>
<li class="nav-level-3 nav-item"><a class="nav-level-3 nav-link " href="/calyxos.org/de/docs/development/build/chromium/">Build Chromium</a></li>
<li class="nav-level-3 nav-item"><a class="nav-level-3 nav-link " href="/calyxos.org/de/docs/development/build/emulator/">Emulator</a></li>
<li class="nav-level-3 nav-item"><a class="nav-level-3 nav-link active" href="/calyxos.org/de/docs/development/build/kernel/">Build kernel</a></li>
<li class="nav-level-3 nav-item"><a class="nav-level-3 nav-link " href="/calyxos.org/de/docs/development/build/production/">Production</a></li>
<li class="nav-level-3 nav-item"><a class="nav-level-3 nav-link " href="/calyxos.org/de/docs/development/build/sign/">Sign</a></li>

  </ul>
</div>

        <section class="content primaryContent">
          
          <p>CalyxOS uses Google’s Android Linux kernel with some additional modifications for certain features on top. It can be built within the CalyxOS sources, either during the OS build process, or separately using Google’s build scripts.</p>

<h2 id="building-it-during-the-os-build">Building it during the OS build</h2>
<ul>
  <li>This assumes you’re following the steps to <a href="../">Build CalyxOS</a></li>
</ul>

<p>Simply run:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">export INLINE_KERNEL_BUILDING=true</code> before running <code class="language-plaintext highlighter-rouge">m</code> and it will build the kernel while building the OS.</li>
</ul>

<h2 id="building-it-separately">Building it separately</h2>
<ul>
  <li>This is the process used for official builds, since
    <ul>
      <li>The kernel is shared between Pixels of the same family. Which means 1 kernel build usually ends up covering 2 devices (e.g. Pixel 2 and 2 XL share the kernel)</li>
      <li>The kernel usually does not change that often, so it’s beneficial to build it separately to avoid having to build the exact same source code every time.</li>
    </ul>
  </li>
</ul>

<p>In your source code directory (i.e. <code class="language-plaintext highlighter-rouge">~/calyxos/android11-qpr</code>)</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>kernel
./build_kernel.sh sunfish <span class="c"># Replace sunfish (Pixel 4a) with your device codename</span>
</code></pre></div></div>

<p>This will build the kernel, and it also copies it to the corect directory directly (<code class="language-plaintext highlighter-rouge">device/google/sunfish-kernel</code> for Pixel 4a), and it will get picked up by the OS build directly.</p>


        </section>
      </div>
    </main>
    <footer>
      
<div class="shade">
  <div class="wrapper">
    <div class="row">
      <a href="https://calyxinstitute.org/about">About Calyx</a>
      <span class="spacer" aria-hidden="true">&bull;</span>
      <a href="https://members.calyxinstitute.org/enroll/membership/phone">Join Calyx</a>
      <span class="spacer" aria-hidden="true">&bull;</span>
      <a href="https://calyxinstitute.org/about/contact-us">Contact Us</a>
      <span class="spacer" aria-hidden="true">&bull;</span>
      <a href="https://calyxinstitute.org/legal/privacy-policy">Privacy Policy</a>
      <span class="spacer" aria-hidden="true">&bull;</span>
      <a href="https://calyxinstitute.org/legal/terms-of-service">Terms of Service</a>
      <span class="spacer" aria-hidden="true">&bull;</span>
      <a href="https://members.calyxinstitute.org/donate">Donate</a>
    </div>
    <div class="row footer-icons">
      <a href="https://app.element.io/#/room/#calyxos:matrix.org" title="CalyxOS chat room">
        <img class="filter-grey" src="/calyxos.org/assets/images/icons/matrix.svg" />
      </a>
      <a href="https://gitlab.com/CalyxOS" title="CalyxOS source code">
        <img class="filter-grey" src="/calyxos.org/assets/images/icons/git.svg" />
      </a>
      <a href="https://twitter.com/CalyxOS" title="CalyxOS on Twitter">
        <img class="filter-grey" src="/calyxos.org/assets/images/icons/twitter.svg" />
      </a>
      <a href="https://reddit.com/r/CalyxOS" title="CalyxOS on Reddit">
        <img class="filter-grey" src="/calyxos.org/assets/images/icons/reddit.svg" />
      </a>
      <a href="https://facebook.com/calyxinstitute" title="Calyx Institute on Facebook">
        <img class="filter-grey" src="/calyxos.org/assets/images/icons/facebook.svg" />
      </a>
      <a href="https://instagram.com/calyxinsta" title="Calyx Institute on Instagram">
        <img class="filter-grey" src="/calyxos.org/assets/images/icons/instagram.svg" />
      </a>
    </div>
    <div class="row">
      <a href="https://calyxinstitute.org" target="_blank" rel="noreferrer nooopener">&copy; 2021 Calyx Institute</a>
    </div>
    <div class="row">
      <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer nofollow" title="License: Attribution-ShareAlike 4.0 International"><img class="filter-grey" style="height: 24px" src="/calyxos.org/assets/images/icons/cc-by-sa.svg" /></a>
    </div>
  </div>
</div>

    </footer>
  </body>
</html>
